<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />

    <meta name="description" content="">
    <meta name="author" content="Morgan Rehnberg">

    <title>Timeline Test</title>

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="timeline.css">
    <style>

      @font-face {
        font-family: Gotham-Bold;
        src: url(../Gotham-Bold.otf);
      }
      @font-face {
        font-family: Gotham-Book;
        src: url(../Gotham-Book.otf);
      }
      @font-face {
        font-family: Gotham-Medium;
        src: url(../Gotham-Medium.otf);
      }
      @font-face {
        font-family: Gotham-Light;
        src: url(../Gotham-Light.otf);
      }

      body, html {
        margin: 0px;
        padding: 0px;
        /* cursor: none; */
      }
      ::-webkit-scrollbar {
        width: 0;
      }
      .caption-text {
        font-family: Gotham-Light;
        font-size: 35px;
      }
      .quote-body {
        font-family: Gotham-Medium;
        font-size: 80px;
      }
      .quote-name {
        font-family: Gotham-Light;
        font-size: 50px;
      }
      .timeline {
        margin-bottom: 100px;
      }
      #body-col {
        height: 85vh;
        overflow-y: scroll;
        font-size: 50px;
      }
      content-pane {
        height: 85vh;
      }
      #fadeOutZone {
        opacity: 0;
      }
      #goHomeButton {
        font-size: 80px;
        font-family: Gotham-Bold;
      }
      #header {
        height: 10vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      #header-text {
        font-size: 140px;
        font-family: Gotham-Bold;
      }
      #imageLightbox {
        position: absolute;
        height: 85vh;
        width: 100vw;
        top: 10vh;
        left: 0px;
        background-color: rgba(0, 0, 0, 0.7);
        z-index: 1000;
        display: none;
        align-items: center;
        opacity: 0;
      }
      #imageLightboxCaption {

      }
      #imageLightboxImage {
        width: 100%;
        display: block;
        margin: auto;
      }
      #langToggleButton {
        font-size: 60px;
      }
      #sponsorDiv {
        color: white;
        font-family: Gotham-Light;
        font-size: 45px;
        display: flex;
        align-items: flex-end;
        justify-content: flex-end;
      }
      #timeline-col {
        height: 85vh;
        overflow-y: scroll;
        overflow-x:hidden;
      }
      #toolbar {
        height:5vh;
        font-family: Gotham-Medium;
      }
    </style>
  </head>


  <body>
    <main id='mainContainer' role="main" class="container-fluid px-0">

      <div id="imageLightbox" onclick="hideImageLightBox();">
        <div style='width: 100%;'>
          <div  class='row w-100'>
            <div class='offset-2 col-8 w-100'>
              <img id="imageLightboxImage" src="media/WTC_collapse_CC_BY_Wally_Gobetz.jpg">
              </img>
            </div>
            <div id='imageLightboxCaption' class='offset-2 col-8 mt-5 w-100'>
            </div>
          </div>
        </div>
      </div>

      <header id='header' class='bg-secondary sticky-top'>
        <div class="row">
          <div id='header-text' class="col-12 text-center text-white">
            Attack
          </div>
        </div>
      </header>

      <div id='fadeOutZone'>
        <div id='content-pane' class='row'>
          <!-- Left side: Timeline -->
          <div id="timeline-col" class="col-6 border-end border-white">
            <section class="timeline">
              <ul>
                <li>
                  <div>
                    <time class='time-3'>7:59 AM</time>
                    <p class='size-3'>AA11 departs Boston, headed for Los Angeles</p>
                    <p class='timeline-body'>On board the Boeing 767 are 81 passengers and 11 crew.</p>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-3'>8:14 AM</time>
                    <p class='size-3'>UA175 departs Boston, headed for Los Angeles</p>
                    <p class='timeline-body'>On board the Boeing 767 are 56 passengers and 9 crew.</p>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-2'>8:14 AM</time>
                    <p class='size-2'>AA11 is hijacked</p>
                    <p class='timeline-body'>Five hijackers gain control of the aircraft, turning the plane south.</p>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-3'>8:20 AM</time>
                    <p class='size-3'>AA77 departs Washington, headed for Los Angeles</p>
                    <p class='timeline-body'>On board the Boeing 757 are 58 passengers and 6 crew.</p>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-3'>8:42 AM</time>
                    <p class='size-3'>UA93 departs Newark, headed for San Francisco</p>
                    <p class='timeline-body'>On board the Boeing 757 are 37 passengers and 7 crew.</p>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-2'>8:43 AM</time>
                    <p class='size-2'>UA175 is hijacked</p>
                    <p class='timeline-body'>Five hijackers gain control of the aircraft, turning the plane to the northeast.</p>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-1'>8:46 AM</time>
                    <p class='size-1'>AA11 strikes the North Tower</p>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-2'>8:50 AM</time>
                    <p class='size-2'>AA77 is hijacked</p>
                    <p class='timeline-body'>Five hijackers gain control of the aircraft, turning the plane to the southeast.</p>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-4'>8:55 AM</time>
                    <p class="size-4">President Bush arrives at Emma E. Booker Elementary School</p>
                    <p class='timeline-body'>The President is reading a story to students when he first learns of the attacks.</p>
                    <img width=100%; src="thumbnails/Bush_reading_Public_Domain.jpg"></img>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-1'>9:03 AM</time>
                    <p class='size-1'>UA175 strikes the South Tower</p>
                    <p class='timeline-body'>The plane strikes at 590 mph (950 kph) between floors 77 and 85.</p>
                    <img width=100%; src="thumbnails/UA_Flight_175_hits_WTC_south_tower_9-11_CC BY-SA_Robert_J_Fisch.jpeg"></img>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-4'>9:24 AM</time>
                    <p class='size-4'>UA93 warned of earlier hijackings</p>
                    <p class='timeline-body'>The pilots do not understand the warning and ask for clarification.</p>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-2'>9:28 AM</time>
                    <p class='size-2'>UA93 is hijacked</p>
                    <p class='timeline-body'>Four hijackers seize control of the plane.</p>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-4'>9:30 AM</time>
                    <p class='size-4'>UA93 passengers learn of WTC attacks</p>
                    <p class='timeline-body'>In phone calls with family on the ground, passengers on Flight 93 learn that two hijacked planes have already been crashed. They realize that their situation is likely connected, and begin planning to retake the plane.</p>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-1'>9:37 AM</time>
                    <p class="size-1">AA77 strikes the Pentagon</p>
                    <p class="timeline-body">The plane strikes a the building at 530 mph (850 kph). It impacts a recently-renovated portion of the building, which is still mostly unoccupied. Even so, 125 people in the Pentagon are killed.</p>
                    <img width=100%; src="thumbnails/Pentagon_aftermath_Public_Domain.JPEG"></img>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-4'>9:55 AM</time>
                    <p class="size-4">President Bush boards Air Force One</p>
                    <p class="timeline-body">Air Force One lifts off in Florida to ensure the President's safety. They do not have a plan about where to go.</p>
                    <img width=100%; src="thumbnails/President_George_W._Bush_aboard_Air_Force_One_Public_Domain.jpg"></img>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-2'>9:57 AM</time>
                    <p class='size-2'>UA93 passengers revolt</p>
                    <p class='timeline-body'>After voting on whether to act, passengers rush from the rear of the plane towards the front. The hijackers begin tipping the plane forwards and backwards in defense, as passengers begin trying to break into the cockpit. It remains unclear if they succeeded.</p>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-2'>9:59 AM</time>
                    <p class='size-2'>South Tower falls</p>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-2'>10:03 AM</time>
                    <p class='size-2'>UA93 crashes</p>
                    <p class='timeline-body'>As passengers rush the cockpit and struggle to regain control of the plane, the hijackers deliberately crash it in a field in southwestern Pennslyvania. Flight 93 was about 20 minutes from reaching Washington, D.C.</p>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-2'>10:28 AM</time>
                    <p class="size-2">North Tower falls</p>
                    <p class="timeline-body">After burning for 1 hour and 42 minutes, the North Tower collapses. Because the impact severed all three stairwells, no one above the impact site escapes. A worldwide audience views the collapse live on television.</p>
                    <img width=100%; src="thumbnails/WTC_1_6_7_ruins_Public_Domain.jpg"></img>
                  </div>
                </li>
                <li>
                  <div>
                    <time class='time-3'>5:21 PM</time>
                    <p class='size-3'>7 WTC falls</p>
                    <img width=100%; src="thumbnails/Wtc7onfire_Public_Domain.jpg"></img>
                  </div>
                </li>
              </ul>
            </section>
          </div>
          <!-- Right side: Story -->
          <div id='body-col' class="col-6 pe-4 border-start border-white">
            <div class="body-text">
              <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Vivamus arcu felis bibendum ut tristique et egestas quis. Tempus imperdiet nulla malesuada pellentesque elit. Tempor orci dapibus ultrices in iaculis nunc sed augue. Cursus vitae congue mauris rhoncus. Id ornare arcu odio ut sem. Neque sodales ut etiam sit amet nisl purus. Diam sit amet nisl suscipit adipiscing bibendum. Et malesuada fames ac turpis egestas sed tempus. At quis risus sed vulputate odio ut enim blandit volutpat. Convallis convallis tellus id interdum. Nam at lectus urna duis convallis convallis tellus.
              </p>
              <div class="card me-3 mt-2 mb-2 bg-secondary" style="width: 50%; float: left;">
                <div class="card-body">
                  <p class="quote-body card-text fst-italic">
                    Oh, my goodness. There's another one!
                  </p>
                </div>
                <div class="card-footer">
                  <p class="quote-name card-text">
                    WNYW reporter Jim Ryan, upon seeing the impact on the South Tower.
                  </p>
                </div>
              </div>

              <p>
                Elementum tempus egestas sed sed risus pretium. Posuere sollicitudin aliquam ultrices sagittis. Senectus et netus et malesuada fames ac turpis. Sit amet tellus cras adipiscing enim eu turpis egestas. Amet venenatis urna cursus eget nunc scelerisque viverra mauris. Ultrices neque ornare aenean euismod elementum. Vulputate enim nulla aliquet porttitor lacus luctus accumsan tortor. Nunc non blandit massa enim nec dui nunc mattis enim. Sit amet consectetur adipiscing elit ut aliquam purus sit amet.
              </p>
              <div class="card me-3 mt-2 mb-2 bg-transparent" style="width: 50%; float: right;">
                <div class="card-body">
                  <img src="thumbnails/WTC_collapse_CC_BY_Wally_Gobetz.jpg" width="100%" onclick="showImageInLightBox('WTC_collapse_CC_BY_Wally_Gobetz.jpg')"></src>
                </div>
                <div class="card-footer">
                  <p class="caption-text card-text">
                    A view of the World Trade Center complex shortly after the collapse of the North Tower.
                  </p>
                </div>
              </div>
              <p>
                Amet purus gravida quis blandit turpis cursus in. Non tellus orci ac auctor augue mauris. Enim praesent elementum facilisis leo vel fringilla est ullamcorper. Sit amet mauris commodo quis imperdiet massa tincidunt nunc. Turpis egestas maecenas pharetra convallis posuere morbi leo urna. Pellentesque elit eget gravida cum sociis natoque. Nec dui nunc mattis enim. Turpis nunc eget lorem dolor. Vel quam elementum pulvinar etiam.
              </p>
            </div>
          </div>
        </div>

      </div>
      <footer id='toolbar' class='bg-secondary fixed-bottom'>
        <div class='row gx-1 h-100'>
          <div class='col-2'>
            <button id="langToggleButton" class='btn btn-primary w-100 h-100'>Espanol</button>
          </div>
          <div class='col-1'>
            <button class='btn btn-primary w-100 h-100'><font size="55px">A</font></button>
          </div>
          <div class='col-1'>
            <button class='btn btn-primary w-100 h-100'><font size="110px">A</font></button>
          </div>
          <div class='col-4'>
            <button id='goHomeButton' class='btn btn-lg w-100 h-100 btn-success' onclick="goHome()">Go Home</button>
          </div>
          <div id="sponsorDiv" class='col-4 pe-2 h-100'>
            <div>
              Generously sponsored by
              <br>
              <img src='../media/BankOfTexasLogo.png' width="100%"></src>
            </div>
          </div>
        </div>
      </footer>
    </main>
  </body>

  <script type="text/javascript" src="js/jquery-3.6.0.min.js"></script>
  <script>

    function goHome() {

      $("#fadeOutZone").animate({opacity: 0, queue: false}, 400, function(){window.location.href = '../911_kiosk.html';});
    }

    function hideImageLightBox() {

      // Fade out the lightbox, and then hide it so it doesn't steal touches

      var temp = function() {$("#imageLightbox").css("display", "none");};
      $("#imageLightbox").animate({opacity: 0, queue: false}, {complete: temp, duration: 100});
    }

    function showImageInLightBox(image, caption="") {

      // Set the img source to the provided image, set the caption, and reveal
      // the light box. The desired image must be located in the media directory

      document.getElementById("imageLightboxImage").src = "media/" + image;
      document.getElementById("imageLightboxCaption").innerHTML = caption;

      $("#imageLightbox").css("display", "flex").animate({opacity: 1, queue: false}, 100);
    }

    // Start timeline

    // define variables
    var items = document.querySelectorAll(".timeline li");

    // check if an element is in viewport
    // http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport
    function isElementInViewport(el) {
      var rect = el.getBoundingClientRect();
      return (
        rect.top >= 0 &&
        rect.left >= 0 &&
        rect.bottom <=
          (window.innerHeight || document.documentElement.clientHeight) &&
        rect.right <= (window.innerWidth || document.documentElement.clientWidth)
      );
    }

    function checkTimelineElementsInView() {
      for (var i = 0; i < items.length; i++) {
        if (isElementInViewport(items[i])) {
          items[i].classList.add("in-view");
        } else {
          items[i].classList.remove("in-view");
        }
      }
    }

    // listen for events
    // window.addEventListener("load", checkTimelineElementsInView);
    // window.addEventListener("resize", checkTimelineElementsInView);
    // window.addEventListener("touchmove", checkTimelineElementsInView);
    // window.addEventListener("scroll", checkTimelineElementsInView);

    setInterval(checkTimelineElementsInView, 100);

    window.addEventListener("load", function(){$("#fadeOutZone").animate({opacity: 1})})

  </script>
</html>
